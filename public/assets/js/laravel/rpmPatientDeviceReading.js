!function(t){var e={};function a(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)a.d(i,l,function(e){return t[e]}.bind(null,l));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=11)}({11:function(t,e,a){t.exports=a("m0h2")},m0h2:function(t,e){var a=window.location.origin+"/",i=[],l=[],r=[],n=[],s=[],o=[],d=[],m=[],h=[],u=function(t,e,a){if(200==a.status&&""==$.trim(a.data)){var c=$("#activedevice").val();$("#time-container").val(AppStopwatch.pauseClock),util.updateBillableNonBillableAndTickingTimer($("#p_id").val(),$("form[name='rpm_cm_form'] input[name='module_id']").val()),$("#AddressSuccess_"+c).show(),$("#rpm_cm_modal").modal("hide");$("#AddressSuccess_"+c).html('<div class="alert alert-success alert-block " style="margin-left: 1.1em;margin-right: 1.1em;"><button type="button" class="close" data-dismiss="alert">× </button><strong>Care Manager Notes Added Successfully!</strong></div>'),y(c),setTimeout((function(){$("#AddressSuccess_"+c).hide()}),3e3),$("#rpm_cm_form")[0].reset(),i=[],l=[],r=[],n=[],s=[],o=[],d=[],m=[],h=[]}},v=function(t,e,a){if(200==a.status){var i="form[name='rpm_text_form_"+$("#activedevice").val()+"']";util.updateTimer($(i+" input[name='patient_id']").val(),1,$(i+" input[name='module_id']").val());var l='<div class="alert alert-danger alert-block " style="margin-left: 1.1em;margin-right: 1.1em;"><button type="button" class="close" data-dismiss="alert">× </button><strong>'+a.data+"</strong></div>";$(i+" .twilo-error").show(),$(i+" .alert-success").show(),$(i+" .twilo-error").html(l);var r=$(i+" input[name='end_time']").val();$("#timer_start").val(r),setTimeout((function(){$(i+" #success-alert").hide(),$(i+" .twilo-error").hide(),$(i)[0].reset()}),3e3)}},p=function(t,e,a){if(200==a.status){var i=$("#activedevice").val(),l="form[name='rpm_carenote_form_"+i+"']";util.updateTimer($(l+" input[name='patient_id']").val(),1,$(l+" input[name='module_id']").val()),$("#success_"+i).show();var r=$(".main-content").offset().top,n='<div class="alert alert-success alert-block " style="margin-left: 1.1em;margin-right: 1.1em;"><button type="button" class="close" data-dismiss="alert">× </button><strong>'+a.data+"</strong></div>";$("#success_"+i).html(n);var s=$("form[name='rpm_carenote_form_"+i+"'] input[name='end_time']").val();$("#timer_start").val(s),$(window).scrollTop(r),setTimeout((function(){$("#success_"+i).hide()}),3e3)}},f=function(t,e,a,i,l){$("#time-container").val(AppStopwatch.pauseClock);var r=$("#component_id").val(),n=$("#timer_start").val(),s=$("input[name='module_id']").val();if("checkreviewclick"==t){var o=$("#activedevice").val(),d=e.id.replace("review_",""),c=(a=a,"success_"),m=$("#patient_id").val(),h=$("#csseffdt_"+a+"_"+d).val();f=1==e.checked?1:0;var u=$("#id_"+a+"_"+d).val(),v="parent",p="rpmdailyreviewedreadingcompleted"}else{o=$("#activedevice").val(),m=i.pid,a=i.unit,h=i.csseffdate;var f=l;u=i.tempid,v="child",p="child_rpmdailyreviewedcompleted",c="datatableSuccess_"}var _={patient_id:m,unit:a,csseffdate:h,reviewstatus:f,component_id:r,serialid:u,table:v,formname:p,timer_start:n};$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"POST",url:"/rpm/daily-review-updatereviewstatus",data:_,success:function(e){$("#"+c+o).show();if($("#"+c+o).html('<div class="alert alert-success alert-block " style="margin-left: 1.1em;margin-right: 1.1em;"><button type="button" class="close" data-dismiss="alert">× </button><strong>Review Status Updated Successfully!</strong></div>'),$("#time-container").val(AppStopwatch.pauseClock),util.updateBillableNonBillableAndTickingTimer(m,s),"checkreviewclick"==t){var a=$(".main-content").offset().top;$(window).scrollTop(a)}else $("html, body").animate({scrollTop:$("#review-table_"+o).offset().top},"slow");setTimeout((function(){$("#"+c+o).hide()}),3e3)}})},_=function(t,e,a,i){var l="assets/images/copy_icon.png",r="assets/images/excel_icon.png",n="assets/images/pdf_icon.png",s="assets/images/csv_icon.png",o=$("#"+t).DataTable({dom:'<"float-right"B><"float-right"f><"float-left"r><"clearfix">t<"float-left"i><"float-right"p><"clearfix">',buttons:[{extend:"copyHtml5",text:'<img src="'+i+l+'" width="20" alt="" data-toggle="tooltip" data-placement="top" title="Copy">'},{extend:"excelHtml5",text:'<img src="'+i+r+'" width="20" alt="" data-toggle="tooltip" data-placement="top" title="Excel">',titleAttr:"Excel",customize:function(t){var e=o.columns().header().count(),a=t.xl.worksheets["sheet1.xml"],i=$("col",a);$(i[1]).attr("width",20);var l,r=$("sheetData",a).clone();$("sheetData",a).empty();var n=1;$(r).children().each((function(t){if(t>0){(f=$(this.outerHTML)).attr("r",n);var i=1;f.children().each((function(t){var a=$(this),r=a.attr("r");r=r.replace(/\d+$/,"")+n,a.attr("r",r),i===e&&(l=a.text(),a.html("")),i++})),f=f[0].outerHTML,$("sheetData",a).append(f),n++;var r=o.row(l,{search:"none",order:"index"}).data().results;for(r.length>0&&(headerRow='<row r="'+n+'" s="2"><c t="inlineStr" r="A'+n+'"><is><t></t></is></c><c t="inlineStr" r="B'+n+'" s="2"><is><t>Sr.No.</t></is></c><c t="inlineStr" r="C'+n+'" s="2"><is><t>Vital</t></is></c><c t="inlineStr" r="D'+n+'" s="2"><is><t>Range</t></is></c><c t="inlineStr" r="E'+n+'" s="2"><is><t>Date</t></is></c><c t="inlineStr" r="F'+n+'" s="2"><is><t>Time</t></is></c><c t="inlineStr" r="G'+n+'" s="2"><is><t>Reviewed</t></is></c><c t="inlineStr" r="H'+n+'" s="2"><is><t>Addressed Alert</t></is></c></row>',$("sheetData",a).append(headerRow),n++),c=0;c<r.length;c++){child=r[c];var s=child.unit;if(null==child.unit){s="";var d=""}else if("%"==s)d="Oxygen";else if("beats/minute"==s)d="Heartrate";else if("mm[Hg]"==s)d="Blood Pressure";else if("mg/dl"==s)d="Glucose";else if("L"==s||"L/min"==s)d="FEV1 and PEF";else if("degrees F"==s)d="Temperature";else d="Weight";if(null==child.thresholdtype)var m=child.vitalthreshold+" ( )";else m=child.vitalthreshold+" ("+child.thresholdtype+")";var h=child.csseffdate.split(" "),u=child.reviewedflag;u="1"==u?"Yes":"No";var v=child.rwaddressed;if(v="1"==v?"Yes":"No",null==child.caremanagerfname);else child.caremanagerfname,child.caremanagerlname;var p=c+1;childRow='<row r="'+n+'"><c t="inlineStr" r="A'+n+'"><is><t></t></is></c><c t="inlineStr" r="B'+n+'"><is><t>'+p+'</t></is></c><c t="inlineStr" r="C'+n+'"><is><t>'+d+'</t></is></c><c t="inlineStr" r="D'+n+'"><is><t>'+m+'</t></is></c><c t="inlineStr" r="E'+n+'"><is><t>'+child.reading+" "+child.unit+'</t></is></c><c t="inlineStr" r="F'+n+'"><is><t>'+h[0]+'</t></is></c><c t="inlineStr" r="G'+n+'"><is><t>'+h[1]+'</t></is></c><c t="inlineStr" r="H'+n+'"><is><t>'+u+'</t></is></c><c t="inlineStr" r="I'+n+'"><is><t>'+v+"</t></is></c></row>",$("sheetData",a).append(childRow),n++}}else{var f=$(this.outerHTML);i=1;f.children().each((function(t){var a=$(this);i===e&&a.html(""),i++})),f=f[0].outerHTML,$("sheetData",a).append(f),n++}}))}},{extend:"csvHtml5",text:'<img src="'+i+s+'" width="20" alt="" data-toggle="tooltip" data-placement="top" title="CSV">',titleAttr:"CSV",fieldSeparator:"|"},{extend:"pdfHtml5",text:'<img src="'+i+n+'" width="20" alt="" data-toggle="tooltip" data-placement="top" title="PDF">',titleAttr:"PDF"}],processing:!0,destroy:!0,ajax:e,columns:a,Language:{search:"_INPUT_",searchPlaceholder:"Search records",EmptyTable:"No Data Found"},columnDefs:[{targets:"_all",defaultContent:""}]});return o},w=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[{data:"DT_RowIndex",name:"DT_RowIndex"},{data:"action",name:"action"},{data:"vital_unit",name:"unit",mRender:function(t,e,a,i){return"beats/minute"==a.vital_unit?"Heartrate":a.vital_name},orderable:!1},{data:null,mRender:function(t,e,a,i){return null==a.rwthreshold_type?(null!=a.vital_threshold?vitalthreshold=a.vital_threshold:vitalthreshold="",vitalthreshold):(null!=a.vital_threshold?vitalthreshold=a.vital_threshold+" ("+a.rwthreshold_type+")":vitalthreshold="",vitalthreshold)},orderable:!1},{data:"reading",name:"reading",mRender:function(t,e,a,i){if(m_reading=a.reading,m_alert=a.alert,null!=a.reading)return null==a.vital_unit?m_unit="":m_unit=a.vital_unit,1==m_alert?"<span style='color:red'>"+m_reading+" "+m_unit+'<i class="i-Danger" style="color:red"></i><span>':m_reading+" "+m_unit;m_reading=""},orderable:!1},{data:null,mRender:function(t,e,a,i){totaltime=a.csseffdate;var l=totaltime.split(" ");return""!=a.csseffdate&&"NULL"!=a.csseffdate&&null!=a.csseffdate?l[0]:""},orderable:!0},{data:null,mRender:function(t,e,a,i){totaltime=a.csseffdate;var l=totaltime.split(" ");return""!=a.csseffdate&&"NULL"!=a.csseffdate&&null!=a.csseffdate?l[1]:""},orderable:!0},{data:null,render:function(t,e,a,i){return null==a.reviewedflag||0==a.reviewedflag?(check="",reviewstatus="No"):(check="checked",reviewstatus="Yes"),'<input type="checkbox" id="reviewpatientstatus_'+i.row+'" onchange="rpmPatientDeviceReading.reviewStatusChk(this)" class="reviewpatientstatus" name="reviewpatientstatus" value="'+a.pid+'" '+check+'><label style="display:none">'+reviewstatus+"</label>"},orderable:!1},{data:null,render:function(t,e,a,i){if(null==a.rwaddressed||0==a.rwaddressed?(check="",readonly="",addressstatus="No"):(check="checked",readonly="disabled",addressstatus="Yes"),1==m_alert)return'<input type="checkbox" id="activealertpatientstatus_'+i.row+'" class="activealertpatientstatus" name="activealertpatientstatus"  value="'+a.pid+'" '+check+"  "+readonly+' ><label style="display:none">'+addressstatus+"</label>"},orderable:!0},{data:null,visible:!1,render:function(t,e,a,i){return i.row}}];""==i&&(i=null),""==l&&(l=null);var n="/rpm/monthly-review-list/"+t+"/"+i+"/"+l+"/"+e,s="monthlyreviewlist_"+e,o=_(s,n,r,a);return o},g=($("#activedevice").val(),function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=[{data:"DT_RowIndex",name:"DT_RowIndex"},{data:"unit",name:"unit",mRender:function(t,e,a,i){return"beats/minute"==a.unit?"Heartrate":a.vital_name},orderable:!1},{data:"vitalthreshold",name:"vitalthreshold",mRender:function(t,e,a,i){return vitalthreshold=a.vitalthreshold,null==a.rwthreshold_type?(null!=a.vitalthreshold?vitalthreshold=a.vitalthreshold:vitalthreshold="",vitalthreshold):(null!=a.vitalthreshold?vitalthreshold=a.vitalthreshold+" ("+a.thresholdtype+")":vitalthreshold="",vitalthreshold)},orderable:!1},{data:"reading",name:"reading",mRender:function(t,e,a,i){if(m_reading=a.reading,m_alert=a.alert,null!=a.reading)return null==a.unit?m_unit="":m_unit=a.unit,1==m_alert?"<span style='color:red'>"+m_reading+" "+m_unit+'<i class="i-Danger" style="color:red"></i><span>':m_reading+" "+m_unit;m_reading=""},orderable:!1},{data:null,mRender:function(t,e,a,i){totaltime=a.csseffdate;var l=totaltime.split(" ");if(null==a.csseffdate&&(l=""),""!=a.csseffdate&&"NULL"!=a.csseffdate&&null!=a.csseffdate)return l[0]},orderable:!0},{data:null,mRender:function(t,e,a,i){totaltime=a.csseffdate;var l=totaltime.split(" ");if(null==a.csseffdate&&(l=""),""!=a.csseffdate&&"NULL"!=a.csseffdate&&null!=a.csseffdate)return l[1]},orderable:!0},{data:null,render:function(t,e,a,i){return null==a.reviewedflag||0==a.reviewedflag?check="":check="checked",'<input type="checkbox" id="childreviewpatientstatus_'+i.row+'" class="childreviewpatientstatus" name="childreviewpatientstatus" value="'+a.pid+'" '+check+">"},orderable:!1},{data:null,render:function(t,e,a,i){if(null==a.addressed||0==a.addressed?(check="",readonly=""):(check="checked",readonly="disabled"),1==m_alert)return'<input type="checkbox" id="childactivealertpatientstatus_'+i.row+'" class="activealertpatientstatus" name="childactivealertpatientstatus"  value="'+a.pid+'" '+check+" "+readonly+">"},orderable:!0}],s="/rpm/daily-review-list-details/"+t+"/"+e+"/"+i+"/"+l+"/"+r,o=$("#activedevice").val(),d="ReviewMonthly-Child-list"+t+"_"+o;childtable=util.renderDataTable(d,s,n,a)}),b=function(){var t=$("#patient_id").val();""!=t&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"POST",url:"/rpm/getCareNoteData",data:{patient_id:t},success:function(t){$("textarea#CareManagerNotes").val(t.trim())}}))},y=function(t){var e=$("#patient_id").val();$("#review-table_"+t).show(),$.ajax({url:"/rpm/rpm-protocol/"+t,type:"get",success:function(e){var a='<a href="'+e.filename+'"  target="_blank" title="Start" ><button type="button" id="detailsbutton" class="btn btn-primary mt-4"> Protocol</button></a>';$("#rpmfilename_"+t).html(a)}}),w(e,t),$("html, body").animate({scrollTop:$("#review-table_"+t).offset().top},"slow")},x=function(t,e){$.ajax({url:"/rpm/daily-device-reading/"+t+"/"+e,type:"get",success:function(t){for(var a=0;a<t.reading.length;a++)$("#reading_"+e+"_"+a).text(t.reading[a]),$("#unit_"+e+"_"+a).text(t.unit[a]),$("#id_"+e+"_"+a).val(t.id[a]),$("#csseffdt_"+e+"_"+a).val(t.effdatetime[a]),"N/A"==t.reading[a]?$(".review_"+e+"_"+a).attr("disabled","disabled"):$(".review_"+e+"_"+a).removeAttr("disabled"),"1"==t.review[a]?$(".review_"+e+"_"+a).prop("checked",!0):$(".review_"+e+"_"+a).prop("checked",!1),"N/A"!=t.reading[a]&&"1"==t.alert_status[a]?"1"==t.addressed[a]?($("#reading_"+e+"_"+a).css("color","red"),$("#unit_"+e+"_"+a).css("color","red"),$("#addressed_"+e+"_"+a).removeClass("i-Danger"),$("#addressed_"+e+"_"+a).addClass("i-Yes")):($("#reading_"+e+"_"+a).css("color",""),$("#unit_"+e+"_"+a).css("color",""),$("#addressed_"+e+"_"+a).removeClass("i-Yes"),$("#addressed_"+e+"_"+a).addClass("i-Danger")):($("#reading_"+e+"_"+a).css("color",""),$("#unit_"+e+"_"+a).css("color",""),$("#addressed_"+e+"_"+a).removeClass("i-Yes"),$("#addressed_"+e+"_"+a).removeClass("i-Danger"))}})};$(".tabclass").on("click",(function(){var t=this.id.split("_");$("#activedevice").val(t[1]);var e=t[1],a=$("#patient_id").val();x(a,e);var i=((new Date).getMonth()+1).toString().padStart(2,"0"),l=(new Date).getFullYear()+"-"+i;$("#monthly_"+e).val(l),$("#monthlyto_"+e).val(l)})),window.rpmPatientDeviceReading={init:function(){util.redirectToWorklistPage();var t=(new Date).getFullYear(),e=(new Date).getMonth()+1,a=$("#patient_id").val(),c=$("#module_id").val(),_=$("ul#patientdevicetab").find("li a.active").attr("id");if(""!=_&&null!=_&&null!=_){util.getPatientPreviousMonthNotes(a,c,e,t),util.getPatientCareplanNotes(a,c),util.getPatientDetails(a,c);var y=_.split("_")[1];$("#activedevice").val(y),util.stepWizard("tsf-wizard-monthly-service"),$("#start").hide(),$("#pause").show(),util.updateTimer(a,1,c)}if($("#time-container").val(AppStopwatch.startClock),""!=_&&null!=_&&null!=_){util.getPatientStatus(a,c),w(a,y),util.getToDoListData(a,c);var k=$("#activedevice").val();document.getElementById("device-icon-tab_"+k).click(),b(),setInterval((function(){k=$("#activedevice").val(),x(a,k)}),6e4)}$(".notes_form .btn").on("click",(function(){formid=$(this).attr("dataid"),$("#time-container").val(AppStopwatch.pauseClock);var t=$("#timer_start").val(),e=$("#time-container").text();return $("form[name='"+formid+"'] input[name='start_time']").val(t),$("form[name='"+formid+"'] input[name='end_time']").val(e),$("#timer_end").val(e),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit(formid,p),!1})),form.ajaxForm("rpm_cm_form",u),$('form[name="personal_notes_form"] .submit-personal-notes').on("click",(function(t){$("#time-container").val(AppStopwatch.pauseClock);var e=$("#timer_start").val(),a=$("#time-container").text();$("form[name='personal_notes_form'] input[name='start_time']").val(e),$("form[name='personal_notes_form'] input[name='end_time']").val(a),$("#timer_end").val(a),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit("personal_notes_form",patientEnrollment.onPersonalNotes)})),$('form[name="part_of_research_study_form"] .submit-part-of-research-study').on("click",(function(){$("#time-container").val(AppStopwatch.pauseClock);var t=$("#timer_start").val(),e=$("#time-container").text();$("form[name='part_of_research_study_form'] input[name='start_time']").val(t),$("form[name='part_of_research_study_form'] [name='end_time']").val(e),$("#timer_end").val(e),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit("part_of_research_study_form",patientEnrollment.onPartOfResearchStudy)})),$('form[name="patient_threshold_form"] .submit-patient-threshold').on("click",(function(){$("#time-container").val(AppStopwatch.pauseClock);var t=$("#timer_start").val(),e=$("#time-container").text();$("form[name='patient_threshold_form'] input[name='start_time']").val(t),$("form[name='patient_threshold_form'] [name='end_time']").val(e),$("#timer_end").val(e),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit("patient_threshold_form",patientEnrollment.onPatientThreshold)})),$(".text_form .btn_sub").on("click",(function(){formid=$(this).attr("dataid"),$("#time-container").val(AppStopwatch.pauseClock);var t=$("#timer_start").val(),e=$("#time-container").text();return $("form[name='"+formid+"'] input[name='start_time']").val(t),$("form[name='"+formid+"'] input[name='end_time']").val(e),$("#timer_end").val(e),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit(formid,v),!1})),$('form[name="patient_threshold_form"] .submit-patient-threshold').on("click",(function(){$("#time-container").val(AppStopwatch.pauseClock);var t=$("#timer_start").val(),e=$("#time-container").text();$("form[name='patient_threshold_form'] input[name='start_time']").val(t),$("form[name='patient_threshold_form'] [name='end_time']").val(e),$("#timer_end").val(e),$("#time-container").val(AppStopwatch.startClock),form.ajaxSubmit("patient_threshold_form",patientEnrollment.onPatientThreshold)})),$("form[name='rpm_text_form_"+k+"'] #text_template_id").change((function(){var t=$(this).val(),e=$("#patient_id").val();$.ajax({url:"/ccm/get-call-scripts-by-id/"+t+"/"+e+"/call-script",type:"get",success:function(t){$("form[name='rpm_text_form_"+k+"'] #templatearea_sms").html(t[0].content_title)}})})),$("#month-search_"+k).click((function(){var t=$("#patient_id").val(),e=$("#monthly_"+k).val(),a=$("#monthlyto_"+k).val();a<e?($("#monthlyto_"+k).addClass("is-invalid"),$("#monthlyto_"+k).next(".invalid-feedback").html("Please select to-month properly ."),$("#monthly_"+k).addClass("is-invalid"),$("#monthly_"+k).next(".invalid-feedback").html("Please select from-month properly .")):($("#monthlyto_"+k).removeClass("is-invalid"),$("#monthlyto_"+k).removeClass("invalid-feedback"),$("#monthly_"+k).removeClass("is-invalid"),$("#monthly_"+k).removeClass("invalid-feedback"),w(t,k,e,a))})),$("#month-reset_"+k).click((function(){var t=$("#patient_id").val();$("#monthlyto_"+k).removeClass("is-invalid"),$("#monthlyto_"+k).removeClass("invalid-feedback"),$("#monthly_"+k).removeClass("is-invalid"),$("#monthly_"+k).removeClass("invalid-feedback");var e=((new Date).getMonth()+1).toString().padStart(2,"0"),a=(new Date).getFullYear()+"-"+e;$("#monthly_"+k).val(a),$("#monthlyto_"+k).val(a);var i=$("#monthly_"+k).val(),l=$("#monthlyto_"+k).val();w(t,k,i,l)})),$("#monthlyreviewlist_"+k+" tbody").on("click","td a",(function(){var t=$(this).attr("id").split("/"),e=t[0],a=t[1],i=t[2],l=t[3],r=t[4];$(".i-Remove").removeClass("i-Remove"),$(".plus-icons").addClass("i-Add"),$(".shown").removeClass("shown"),$(".child_tb").remove();var n=$(this).closest("tr");if(row=$("#monthlyreviewlist_"+k).DataTable().row(n),row.child.isShown())!function(t){var e=$("childtable",t.child());e.detach(),e.DataTable().destroy(),t.child.hide()}(row),n.removeClass("shown"),$(this).find("i").removeClass("i-Remove"),$(this).find("i").addClass("i-Add");else{n.addClass("shown"),$(this).find("i").removeClass("i-Add"),$(this).find("i").addClass("i-Remove");var s=' <div class="table-responsive child_tb">';s=s+'<table id="ReviewMonthly-Child-list'+e+"_"+k+'" class="display table table-striped table-bordered reviewdailychildtable" style="width:100%">',s+="<thead>",s+="<tr>",s+='<th width="35px">Sr No.</th>',s+='<th width="97px">vital</th>',s+='<th width="97px">Range</th>',s+='<th width="97px">Reading</th>',s+='<th width="97px">Date</th>',s+='<th width="97px">Time</th>',s+='<th width="97px">Reviewed</th>',s+='<th width="97px">Addressed</th>',s+="</tr></thead><tbody></tbody> </table></div>",row.child(s).show(),g(row,row.data().FindField1,e,a,i,l,r)}$("#ReviewMonthly-Child-list"+e+"_"+k+" tbody").on("change",".childreviewpatientstatus",(function(){if($(this).is(":checked"))var t=1;else t=0;var a=$("#ReviewMonthly-Child-list"+e+"_"+k).DataTable().row($(this).parents("tr")).data();f("childReviewstatus","","",a,t)}))})),$(".textbtn").click((function(){var t=this.id.split("_");$("#textcard_"+t[1]).show(),$("form[name='rpm_text_form_"+t[1]+"'] #text_template_id option:last").attr("selected","selected").change(),$("html, body").animate({scrollTop:$("#textcard_"+t[1]).offset().top},"slow")})),$(".reviwe_text").change((function(){var t=$("ul#patientdevicetab").find("li a.active").attr("id").split("_")[1];util.getCallScriptsById($(this).val(),"form[name='rpm_text_form_"+t+"'] #templatearea_sms","form[name='rpm_text_form_"+t+"'] input[name='template_type_id']","form[name='rpm_text_form_"+t+"'] input[name='content_title']")})),$(".close,.cancel").click((function(){var t=$(this).parent().attr("class"),e=$(this).parent().attr("id");$("#"+t+"_"+e).hide(),$("#"+t).hide()})),$("#rpm_cm_form .modalcancel,.close").click((function(){for(var t=$("#care_patient_id").val().split(","),e=$("#hd_chk_this").val().split(","),a=0;a<e.length;a++){var i=e[a].split("_")[1];"activealertpatientstatus"==e[a].split("_")[0]?$("#monthlyreviewlist_"+k+" #activealertpatientstatus_"+i).trigger("click"):$("#ReviewMonthly-Child-list"+t[a]+"_"+k+" #childactivealertpatientstatus_"+i).trigger("click")}})),$("#monthlyreviewlist_"+k+" tbody").on("change",".activealertpatientstatus",(function(){if($(this).is(":checked"))if(-1!=jQuery.inArray(this.id,i));else{if("activealertpatientstatus"==this.id.split("_")[0]){var t=(c=$("#monthlyreviewlist_"+k).DataTable().row($(this).parents("tr")).data()).vital_unit,e=c.rwserialid;d.push("parent"),m.push("rpmdailyreviewedreadingcompleted")}else{var c;t=(c=$("#ReviewMonthly-Child-list"+a+"_"+k).DataTable().row($(this).parents("tr")).data()).unit,e=c.tempid;d.push("child"),m.push("child_rpmdailyreviewedcompleted")}var u=c.pfname+" "+c.plname,v=c.pid,p=c.csseffdate;$("#p_id").val(v);var f="/rpm/monthly-monitoring/"+v;if($("#gotomm").html('<a href="'+f+'"><u>Go To Monthly Monitoring</u></a>'),"%"==t)var _="Oximeter";else if("mm[Hg]"==t||"mmHg"==t)_="Blood Pressure";else if("beats/minute"==t)_="Heartrate";else if("mg/dl"==t)_="Glucose";else if("lbs"==t)_="Weight";else if("degrees F"==t)_="Temperature";else _="Spirometer";l.push(u),o.push(_),r.push(v),n.push(e),s.push(p),i.push(this.id),h.push(t)}else if(-1!=jQuery.inArray(this.id,i)){var w=i.indexOf(this.id);i.splice(w,1)}})),$("#Addressed_"+k).on("click",(function(){var t=$("#timer_start").val();$("#hd_chk_this").val(i),$("#care_patient_id").val(r),$("#rpm_observation_id").val(n),$("#vital").val(o),$("#csseffdate").val(s),$("#unit").val(h),$("#table").val(d),$("#formname").val(m),$("#hd_timer_start").val(t),0!==i.length?$("#rpm_cm_modal").modal("show"):alert("Please select checkebox")}))},showtable:y,dailyReadingFunction:x,checkreviewclick:function(t,e){f("checkreviewclick",t,e,"","")},setCareNote:b,reviewStatusChk:function(t){$("#time-container").val(AppStopwatch.pauseClock);var e=$("#activedevice").val();if($(t).is(":checked"))var a=1;else a=0;var i=$("#monthlyreviewlist_"+e).DataTable().row($(t).parents("tr")).data(),l=i.pid,r=i.rwserialid,n=i.childdatacount,s=$("#component_id").val(),o=$("#timer_start").val(),d={patient_id:i.pid,unit:i.vital_unit,csseffdate:i.csseffdate,reviewstatus:a,component_id:s,serialid:r,table:"parent",formname:"rpmdailyreviewedcompleted",timer_start:o};if(1==a&&n>0){var c=i.csseffdate.split(" ")[0],m=i.vital_unit;r=i.rwserialid;if("mm[Hg]"==m||"mmHg"==m)var h="observationsbp";else if("%"==m)h="observationsoxymeter";else if("beats/minute"==m)h="observationsheartrate";else if("lbs"==m)h="observationsweight";else if("L/min"==m||"L"==m)h="observationsspirometer";else if("mg/dl"==m)h="observationsglucose";$(".i-Remove").removeClass("i-Remove"),$(".plus-icons").addClass("i-Add"),$(".shown").removeClass("shown"),$(".child_tb").remove();var u=$(t).closest("tr");u.addClass("shown"),row=$("#monthlyreviewlist_"+e).DataTable().row(u),u.find("i").removeClass("i-Add"),u.find("i").addClass("i-Remove");var v=' <div class="table-responsive child_tb">';v=v+'<table id="ReviewMonthly-Child-list'+l+"_"+e+'" class="display table table-striped table-bordered reviewdailychildtable" style="width:100%">',v+="<thead>",v+="<tr>",v+='<th width="35px">Sr No.</th>',v+='<th width="97px">Vital</th>',v+='<th width="97px">Range</th>',v+='<th width="97px">Reading</th>',v+='<th width="97px">Date</th>',v+='<th width="97px">Time</th>',v+='<th width="97px">Reviewed</th>',v+='<th width="97px">Addressed Alert</th>',v+="</tr></thead><tbody></tbody> </table></div>",row.child(v).show(),g(row,row.data().FindField1,l,c,h,0,r)}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"POST",url:"/rpm/daily-review-updatereviewstatus",data:d,success:function(t){$("#datatableSuccess_"+e).show();$("#datatableSuccess_"+e).html('<div class="alert alert-success alert-block " style="margin-left: 1.1em;margin-right: 1.1em;"><button type="button" class="close" data-dismiss="alert">× </button><strong>Review Status Updated Successfully!</strong></div>');var a=$("input[name='module_id']").val();$("#time-container").val(AppStopwatch.pauseClock),util.updateBillableNonBillableAndTickingTimer(l,a),$("html, body").animate({scrollTop:$("#review-table_"+e).offset().top},"slow"),setTimeout((function(){$("#datatableSuccess_"+e).hide()}),3e3)}})},singlereview:f}}});