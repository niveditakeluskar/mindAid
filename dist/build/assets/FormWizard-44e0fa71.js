import{s as l}from"./store-315be36d.js";import{_ as d,o,e as n,b as s,I as p,F as b,j as T,g as _,h as c,q as f,n as v,t as h}from"./appInertia-bd981cc7.js";const m={name:"form-wizard",data(){return{tabs:[],currentTab:0,totalTabs:0,storeState:l.state,submitSuccess:!1,progress:0,isValidationSupport:!1}},mounted(){this.tabs=this.$children,this.totalTabs=this.tabs.length,this.currentTab=this.tabs.findIndex(t=>t.isActive===!0),this.currentTab===-1&&this.totalTabs>0&&(this.tabs[0].isActive=!0,this.currentTab=0),this.progress=(this.currentTab+1)/this.totalTabs*100},updated(){this.isValidationSupport=Object.keys(this.storeState.v).length!==0&&this.storeState.v.constructor===Object},methods:{previousTab(){this._switchTab(this.currentTab-1),this.$emit("onPreviousStep")},nextTab(){this._validateCurrentTab()!==!1&&(this._switchTab(this.currentTab+1),this.$emit("onNextStep"))},reset(){this.tabs.forEach(t=>{t.isActive=!1,t.isValidated=!1}),this._switchTab(0),this.submitSuccess=!1,this.storeState.v.$reset(),this.$emit("onReset")},changeStatus(){this.submitSuccess=!0},selectTab(t){if(t<this.currentTab){this._switchTab(t);return}this._validateCurrentTab()!==!1&&this.tabs[t-1].isValidated!==!1&&this._switchTab(t)},onSubmit(){this._validateCurrentTab()!==!1&&this.$emit("onComplete")},_switchTab(t){this.tabs.forEach(i=>{i.isActive=!1}),this.currentTab=t,this.tabs[t].isActive=!0,this.progress=(this.currentTab+1)/this.totalTabs*100},_validateCurrentTab(){return this.isValidationSupport?(this.storeState.v.$touch(),this.storeState.v.$invalid?(this.tabs[this.currentTab].isValidated=!1,!1):(this.tabs[this.currentTab].isValidated=!0,!0)):!0}},watch:{currentTab(){l.setCurrentTab(this.currentTab)}}},S={class:"vue-step-wizard"},g={class:"step-header"},k={class:"step-progress"},C={class:"step-pills"},y=["onClick"],w={class:"step-link",href:"#"},V={class:"tabStatus"},z={class:"tabLabel"},A={class:"step-body"},x={class:"step-footer"},F={class:"btn-group",role:"group"},N=["disabled"];function j(t,i,B,E,r,a){return o(),n("div",S,[s("div",g,[s("div",k,[s("div",{class:"bar progressbar",style:p({width:r.progress+"%"})},null,4)]),s("ul",C,[(o(!0),n(b,null,T(r.tabs,(e,u)=>(o(),n("li",{onClick:f(I=>a.selectTab(u),["prevent","stop"]),class:v(["step-item",{active:e.isActive,validated:e.isValidated}]),key:`tab-${u}`},[s("a",w,[s("span",V,h(u+1),1),s("span",z,h(e.title),1)])],10,y))),128))])]),s("div",A,[s("form",null,[_(t.$slots,"default")])]),s("div",x,[s("div",F,[r.submitSuccess?(o(),n("button",{key:1,onClick:i[3]||(i[3]=(...e)=>a.reset&&a.reset(...e)),class:"step-button step-button-reset"},"Reset")):(o(),n(b,{key:0},[s("button",{onClick:i[0]||(i[0]=(...e)=>a.previousTab&&a.previousTab(...e)),disabled:r.currentTab===0,class:"step-button step-button-previous"},"Previous",8,N),r.currentTab<r.totalTabs-1?(o(),n("button",{key:0,onClick:i[1]||(i[1]=(...e)=>a.nextTab&&a.nextTab(...e)),class:"step-button step-button-next"},"Next")):c("",!0),r.currentTab===r.totalTabs-1?(o(),n("button",{key:1,onClick:i[2]||(i[2]=(...e)=>a.onSubmit&&a.onSubmit(...e)),class:"step-button step-button-submit"},"Submit")):c("",!0)],64))])])])}const P=d(m,[["render",j]]);export{P as default};
