import{_ as g,l as n,m as S,H as E,o as c,e as u,h as m,b as e,I as x,q as I,i as k,s as w,F as M,d as f,k as F}from"./appInertia-bd981cc7.js";import"./AgGridTable.vue_vue_type_style_index_0_lang-56c71005.js";const R={props:{patientId:Number,moduleId:Number,componentId:Number,stageid:Number,research_study_data:String},setup(i){let s=n(null),r=n(),t=n(null);const _=n(!1),l=n(!1);let o=n([]);const v=n(!1),p=()=>{_.value=!0,s.value=document.getElementById("page_landing_times").value,r.value=document.getElementById("timer_runing_status").value},h=()=>{_.value=!1};let b=async()=>{let d=document.getElementById("part_of_research_study_form"),y=new FormData(d);f.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').content;try{o.value={};const a=await f.post("/patients/patient-research-study",y);a&&a.status==200&&(l.value=!0,updateTimer(i.patientId,"1",i.moduleId),$(".form_start_time").val(a.data.form_start_time),document.getElementById("part_of_research_study_form").reset(),setTimeout(()=>{l.value=!1,s.value=document.getElementById("page_landing_times").value,h()},3e3),o.value=[])}catch(a){a.response&&a.response.status===422?(o.value=a.response.data.errors,setTimeout(function(){o.value={}},3e3)):console.error("Error submitting form:",a)}};return S(async()=>{try{t.value=i.research_study_data,s.value=document.getElementById("page_landing_times").value}catch(d){console.error("Error on page load:",d)}}),E(()=>l,(d,y)=>{l.value=d}),{loading:v,isOpen:_,openModal:p,closeModal:h,showAlert:l,formErrors:o,research_study_data:t,researchstudyTime:s,submitResearchStudyForm:b,timerStatus:r}}},B={key:1,class:"modal fade open",style:{width:"500px",height:"242px",left:"33%",top:"20%"}},C={class:"modal-content"},N={class:"modal-header"},T=e("h4",{class:"modal-title"},"Research Study",-1),O={class:"modal-body"},V={class:"row"},A=e("button",{type:"button",class:"close","data-dismiss":"alert"},"x",-1),D=e("strong",null,"data saved successfully! ",-1),q=e("span",{id:"text"},null,-1),z=[A,D,q],H={class:"col-md-12"},K={class:"form-group"},P=["formErrors"],U=["value"],X=["value"],j=["value"],G=["value"],J=e("input",{type:"hidden",name:"id"},null,-1),L=e("input",{type:"hidden",name:"form_name",value:"part_of_research_study_form"},null,-1),Q=e("input",{type:"hidden",id:"timer_runing_status",value:"0"},null,-1),W=["value"],Y=e("label",null,[F("Part of Research Study"),e("span",{class:"error"},"*")],-1),Z={key:0,class:"invalid-feedback",style:{display:"block"}},ee=["textContent"],te={class:"card-footer"},se={class:"mc-footer"},oe={class:"row"},ae={class:"col-lg-12 text-right"},re=["disabled"];function ne(i,s,r,t,_,l){return c(),u(M,null,[t.isOpen?(c(),u("div",{key:0,class:"overlay open",onClick:s[0]||(s[0]=(...o)=>t.closeModal&&t.closeModal(...o))})):m("",!0),t.isOpen?(c(),u("div",B,[e("div",C,[e("div",N,[T,e("button",{type:"button",class:"close",onClick:s[1]||(s[1]=(...o)=>t.closeModal&&t.closeModal(...o))},"Ã—")]),e("div",O,[e("div",V,[e("div",{class:"alert alert-success",style:x({display:t.showAlert?"block":"none"})},z,4),e("div",H,[e("div",K,[e("form",{id:"part_of_research_study_form",name:"part_of_research_study_form",onSubmit:s[3]||(s[3]=I((...o)=>t.submitResearchStudyForm&&t.submitResearchStudyForm(...o),["prevent"])),formErrors:t.formErrors},[e("input",{type:"hidden",name:"patient_id",id:"patient_id",value:r.patientId},null,8,U),e("input",{type:"hidden",name:"module_id",id:"page_module_id",value:r.moduleId},null,8,X),e("input",{type:"hidden",name:"component_id",id:"page_component_id",value:r.componentId},null,8,j),e("input",{type:"hidden",name:"stage_id",value:r.stageid},null,8,G),J,L,Q,e("input",{type:"hidden",name:"timearr[form_start_time]",class:"timearr form_start_time",value:t.researchstudyTime},null,8,W),Y,k(e("textarea",{name:"part_of_research_study",class:"form-control forms-element","onUpdate:modelValue":s[2]||(s[2]=o=>t.research_study_data=o)},null,512),[[w,t.research_study_data]]),t.formErrors.part_of_research_study?(c(),u("div",Z,[e("span",{textContent:t.formErrors.part_of_research_study[0]},null,8,ee)])):m("",!0)],40,P)])])])]),e("div",te,[e("div",se,[e("div",oe,[e("div",ae,[e("button",{type:"submit",class:"btn btn-primary float-right ml-2",id:"submit-personal-notes",onClick:s[4]||(s[4]=(...o)=>t.submitResearchStudyForm&&t.submitResearchStudyForm(...o)),disabled:t.timerStatus==1},"Save",8,re),e("button",{type:"button",class:"btn btn-default",onClick:s[5]||(s[5]=(...o)=>t.closeModal&&t.closeModal(...o))},"Close")])])])])])])):m("",!0)],64)}const ie=g(R,[["render",ne]]);export{ie as default};
