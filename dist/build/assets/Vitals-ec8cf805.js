import{_ as B,l as r,H as x,G as R,m as F,r as M,o as d,e as c,b as e,q as T,I as A,i as p,s as g,t as v,h as m,R as E,f as P,d as k,N}from"./appInertia-bd981cc7.js";import H from"./AgGridTable-ef5374d2.js";import"./AgGridTable.vue_vue_type_style_index_0_lang-56c71005.js";const C={data(){return{oxygenRadio:"",notes:""}},props:{patientId:Number,moduleId:Number,componentId:Number,stageId:Number},components:{AgGridTable:H},setup(u){let o=r(!1),_=r(0),t=r(null),i=r([]);const f=r(null),h=r(null),a=r(null),b=r(!1),w=r([]);let D=r([{headerName:"Sr. No.",valueGetter:"node.rowIndex + 1",initialWidth:20},{headerName:"Rec Date",field:"rec_date",filter:!0},{headerName:"Height (in)",field:"height"},{headerName:"Weight (lbs)",field:"weight"},{headerName:"BMI",field:"bmi"},{headerName:"Systolic",field:"bp"},{headerName:"Diastolic",field:"diastolic"},{headerName:"O2 Saturation",field:"o2"},{headerName:"Pulse Rate",field:"pulse_rate"},{headerName:"Pain Level",field:"pain_level"},{headerName:"Oxygen",field:"oxygen"},{headerName:"Notes",field:"notes"}]);const y=async()=>{try{b.value=!0,await new Promise(s=>setTimeout(s,2e3));const l=await fetch(`/ccm/care-plan-development-vital-vitallist/${u.patientId}`);if(!l.ok)throw new Error("Failed to fetch vitals list");b.value=!1;const n=await l.json();w.value=n.data}catch(l){console.error("Error fetching vitals list:",l),b.value=!1}};let V=async()=>{i.value={};let l=document.getElementById("number_tracking_vitals_form"),n=new FormData(l);n.forEach((s,Ye)=>{}),k.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').content;try{const s=await k.post("/ccm/care-plan-development-numbertracking-vitals",n);s&&s.status===200&&(o.value=!0,updateTimer(u.patientId,"1",u.moduleId),$(".form_start_time").val(s.data.form_start_time),await y(),document.getElementById("number_tracking_vitals_form").reset(),setTimeout(()=>{o.value=!1,t.value=document.getElementById("page_landing_times").value},3e3),i.value=[])}catch(s){s.response.status&&s.response.status===422?i.value=s.response.data.errors:console.error("Error submitting form:",s)}},I=async l=>{try{let n="NumberTracking-Vitals_Data",s=await k.get(`/get_step_id/${u.moduleId}/${u.componentId}/${l}/${n}`);_.value=s.data.stepID}catch{throw new Error("Failed to fetch stageID")}};x(()=>u.stageId,(l,n)=>{I(l)}),x(()=>o,(l,n)=>{o.value=l}),R(()=>{y()}),F(async()=>{try{t.value=document.getElementById("page_landing_times").value,I(u.stageId)}catch(l){console.error("Error on page load:",l)}});const S=async()=>{if(f.value!=""&&h.value!=""){const l=parseFloat(f.value),s=parseFloat(h.value)/(l*l)*703;a.value=s.toFixed(1)}else a.value=null};return{loading:b,submiVitalsHealthDataForm:V,vitalsStepId:_,formErrors:i,vitalsTime:t,showVitalsAlert:o,columnDefs:D,vitalsRowData:w,fetchPatientVitalsList:y,deleteServices,editService,calculateBMI:S,height:f,weight:h,bmi:a}}},G={class:"tab-pane fade show active",id:"vitals",role:"tabpanel","aria-labelledby":"vitals-icon-pill"},L={class:"card"},O=e("div",{class:"card-header"},[e("h4",null,"Vitals Data")],-1),U=e("button",{type:"button",class:"close","data-dismiss":"alert"},"x",-1),W=e("strong",null," Vitals data saved successfully! ",-1),q=e("span",{id:"text"},null,-1),j=[U,W,q],z={class:"form-row col-md-12"},K=["value"],X=["value"],J=e("input",{type:"hidden",name:"start_time",value:"00:00:00"},null,-1),Q=e("input",{type:"hidden",name:"end_time",value:"00:00:00"},null,-1),Y=["value"],Z=["value"],ee=["value"],te=["value"],oe=e("input",{type:"hidden",name:"form_name",value:"number_tracking_vitals_form"},null,-1),ae=e("input",{type:"hidden",name:"billable",value:"1"},null,-1),le=["value"],se={class:"col-md-4 form-group mb-3"},ie=e("label",{for:"height"},"Height (in) :",-1),ne={key:0,class:"invalid-feedback",style:{display:"block"}},re={class:"col-md-4 form-group mb-3"},de=e("label",{for:"weight"},"Weight (lbs) :",-1),ce={key:0,class:"invalid-feedback",style:{display:"block"}},me={class:"col-md-4 form-group mb-3"},ue=e("label",{for:"bmi"},"BMI :",-1),_e={key:0,class:"invalid-feedback",style:{display:"block"}},ve={class:"col-md-4 form-group mb-3"},he=e("label",{for:"bp"},"Blood Pressure :",-1),pe={class:"form-row col-md-12 form-group"},fe={class:"col-md-5"},be=e("input",{type:"text",name:"bp",id:"bp",class:"form-control",placeholder:"Systolic"},null,-1),ye={key:0,class:"invalid-feedback",style:{display:"block"}},ge=e("span",{class:"mt-1 pl-2 pr-2"}," / ",-1),ke={class:"col-md-6"},we=e("input",{type:"text",name:"diastolic",id:"diastolic",class:"form-control",placeholder:"Diastolic"},null,-1),Ie={key:0,class:"invalid-feedback",style:{display:"block"}},xe={class:"col-md-4 form-group mb-3"},Ee=e("label",{for:"o2"},"O2 Saturation :",-1),Ne=e("input",{type:"text",name:"o2",id:"o2",class:"form-control"},null,-1),De={key:0,class:"invalid-feedback",style:{display:"block"}},Ve={class:"col-md-2 form-group mb-3"},Se=e("label",{for:"pulse_rate"},"Pulse Rate:",-1),Be=e("input",{type:"text",name:"pulse_rate",id:"pulse_rate",class:"form-control"},null,-1),Re={key:0,class:"invalid-feedback",style:{display:"block"}},Fe=N('<div class="col-md-2 form-group mb-3"><label for="pain_level">Pain Level:</label><select name="pain_level" id="pain_level" class="custom-select show-tick"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></div>',1),Me={class:"col-md-12 form-group mb-3"},Te={class:"mr-3 d-inline-flex align-self-center"},Ae={class:"radio radio-primary mr-3"},Pe=e("span",null,"Room Air",-1),He=e("span",{class:"checkmark"},null,-1),Ce={class:"radio radio-primary mr-3"},Ge=e("span",null,"Supplemental Oxygen",-1),Le=e("span",{class:"checkmark"},null,-1),Oe={key:0,class:"col-md-12 mr-3 mb-3"},Ue=e("label",null,"Notes",-1),We=e("textarea",{class:"form-control forms-element",name:"notes"},null,-1),qe={key:0,class:"invalid-feedback",style:{display:"block"}},je=N('<div class="card-footer"><div class="mc-footer"><div class="row"><div class="col-lg-12 text-right"><button type="submit" class="btn btn-primary m-1" id="save_number_tracking_vitals_form">Save</button></div></div></div></div><div class="alert alert-danger" id="danger-alert" style="display:none;"><button type="button" class="close" data-dismiss="alert">x</button><strong> Please Fill All mandatory Fields! </strong><span id="text"></span></div>',2),ze=e("div",{class:"separator-breadcrumb border-top"},null,-1),Ke={class:"row"},Xe={class:"col-12"},Je={class:"table-responsive"};function Qe(u,o,_,t,i,f){const h=M("AgGridTable");return d(),c("div",G,[e("div",L,[O,e("form",{id:"number_tracking_vitals_form",name:"number_tracking_vitals_form",onSubmit:o[7]||(o[7]=T((...a)=>t.submiVitalsHealthDataForm&&t.submiVitalsHealthDataForm(...a),["prevent"]))},[e("div",{class:"alert alert-success",style:A({display:t.showVitalsAlert?"block":"none"})},j,4),e("div",z,[e("input",{type:"hidden",name:"uid",value:_.patientId},null,8,K),e("input",{type:"hidden",name:"patient_id",value:_.patientId},null,8,X),J,Q,e("input",{type:"hidden",name:"module_id",value:_.moduleId},null,8,Y),e("input",{type:"hidden",name:"component_id",value:_.componentId},null,8,Z),e("input",{type:"hidden",name:"stage_id",value:_.stageId},null,8,ee),e("input",{type:"hidden",name:"step_id",value:t.vitalsStepId},null,8,te),oe,ae,e("input",{type:"hidden",name:"timearr[form_start_time]",class:"timearr form_start_time",value:t.vitalsTime},null,8,le),e("div",se,[ie,p(e("input",{type:"text",name:"height",id:"height",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=a=>t.height=a),onBlur:o[1]||(o[1]=(...a)=>t.calculateBMI&&t.calculateBMI(...a))},null,544),[[g,t.height]]),t.formErrors.height?(d(),c("div",ne,v(t.formErrors.height[0]),1)):m("",!0)]),e("div",re,[de,p(e("input",{type:"text",name:"weight",id:"weight",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=a=>t.weight=a),onBlur:o[3]||(o[3]=(...a)=>t.calculateBMI&&t.calculateBMI(...a))},null,544),[[g,t.weight]]),t.formErrors.weight?(d(),c("div",ce,v(t.formErrors.weight[0]),1)):m("",!0)]),e("div",me,[ue,p(e("input",{type:"text",name:"bmi",id:"bmi",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=a=>t.bmi=a),readonly:"readonly"},null,512),[[g,t.bmi]]),t.formErrors.bmi?(d(),c("div",_e,v(t.formErrors.bmi[0]),1)):m("",!0)]),e("div",ve,[he,e("div",pe,[e("span",fe,[be,t.formErrors.bp?(d(),c("div",ye,v(t.formErrors.bp[0]),1)):m("",!0)]),ge,e("span",ke,[we,t.formErrors.diastolic?(d(),c("div",Ie,v(t.formErrors.diastolic[0]),1)):m("",!0)])])]),e("div",xe,[Ee,Ne,t.formErrors.o2?(d(),c("div",De,v(t.formErrors.o2[0]),1)):m("",!0)]),e("div",Ve,[Se,Be,t.formErrors.pulse_rate?(d(),c("div",Re,v(t.formErrors.pulse_rate[0]),1)):m("",!0)]),Fe,e("div",Me,[e("div",Te,[e("label",Ae,[p(e("input",{type:"radio",id:"yes",name:"oxygen",value:"1",formControlName:"radio","onUpdate:modelValue":o[5]||(o[5]=a=>i.oxygenRadio=a)},null,512),[[E,i.oxygenRadio]]),Pe,He]),e("label",Ce,[p(e("input",{type:"radio",id:"no",name:"oxygen",value:"0",formControlName:"radio","onUpdate:modelValue":o[6]||(o[6]=a=>i.oxygenRadio=a)},null,512),[[E,i.oxygenRadio]]),Ge,Le])])]),i.oxygenRadio==="0"?(d(),c("div",Oe,[Ue,We,t.formErrors.notes?(d(),c("div",qe,v(t.formErrors.notes[0]),1)):m("",!0)])):m("",!0)]),je],32),ze,e("div",Ke,[e("div",Xe,[e("div",Je,[P(h,{rowData:t.vitalsRowData,columnDefs:t.columnDefs},null,8,["rowData","columnDefs"])])])])])])}const tt=B(C,[["render",Qe]]);export{tt as default};
